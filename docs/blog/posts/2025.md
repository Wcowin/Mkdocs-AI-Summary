---
date: 2025-06-03
authors: [Wcowin]
title: MkDocs AI 摘要更新日志
categories:
  - 更新日志
tags:
  - MkDocs AI 摘要
hide_reading_time: true
---
# Blog

## 📝 更新日志

### [v1.0.0] (2025-06-01)
- ✨ 初始发布
- 🤖 AI智能摘要功能
- 📖 阅读时间统计功能
- 💾 智能缓存系统
- 🎯 灵活配置选项
---
### [v1.2.0]  (2025-06-03)

### ✨ 新功能 (Features)

#### 🤖 AI智能摘要系统
- **多AI服务支持**: 集成 DeepSeek、OpenAI、Gemini、Claude 四大AI服务
- **智能服务切换**: 支持服务优先级配置和自动故障转移
- **多语言摘要**: 支持中文、英文、双语摘要生成
- **内容智能清理**: 自动移除无关格式，提取核心文本用于AI处理
- **备用摘要机制**: AI服务不可用时自动生成基于关键词的本地摘要

#### 🌍 环境自适应配置
- **CI/本地环境检测**: 自动识别 GitHub Actions、GitLab CI、Netlify 等15种CI环境
- **分离式配置**: CI和本地环境可独立配置启用/禁用状态
- **推荐配置**: 默认仅在CI环境启用，本地环境禁用，减少开发干扰

#### 💾 智能缓存系统
- **内容哈希缓存**: 基于文章内容+语言设置生成唯一缓存标识
- **缓存过期管理**: 7天自动过期机制，确保内容时效性
- **服务变更检测**: AI服务或语言设置变更时自动清理相关缓存
- **缓存健壮性**: 支持目录级和文件级缓存清理策略

#### 🎯 灵活配置选项
- **文件夹精确控制**: 支持指定特定文件夹启用AI摘要
- **排除模式**: 支持文件模式和具体文件路径排除
- **页面级控制**: 通过 front matter 的 `ai_summary` 字段强制启用/禁用
- **API密钥管理**: 支持环境变量和代码配置两种方式

### 🔧 技术特性 (Technical Features)

#### 📡 API集成
- **统一请求构建**: 自动适配不同AI服务的API格式和认证方式
- **错误处理**: 完善的网络异常和API错误处理机制
- **超时控制**: 30秒请求超时，防止构建过程阻塞
- **响应解析**: 智能提取和清理AI返回的摘要内容

#### 🎨 显示优化
- **自适应标题**: 根据AI服务和语言设置动态生成摘要标题
- **视觉区分**: 使用不同图标和颜色区分AI摘要和备用摘要
- **格式规范**: 自动清理摘要格式，移除多余前缀和后缀

---

### 计划功能
- [x] 多AI服务支持（OpenAI、Claude等）
- [x] 自动选择最佳API
- [x] API密钥安全处理(重要)
- [ ] 批量处理模式
- [ ] 统计数据导出
- [ ] Web界面配置